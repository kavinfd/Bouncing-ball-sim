<html>
<head>
	<link rel="stylesheet" type="text/css" href="main.css"/>
	<script language="javascript" type="text/javascript" src="jquery-2.1.1.js"></script>
</head>
<div id class="circle"></div>
<script type="text/javascript">
	$( document ).ready(function() {
		var gravity=0.3;
		var initVelX=0;
		var initVelY=-3;
		var run=true;
		var stopped = false;
		var ground = 400;
		var bounceLoss = 2;
		function setNextPos(obj,grav,startX,startY){
			setTimeout(function(){
					var cTime = obj.currentTime;
					var displacementY = (1/2)*grav*cTime*cTime+initVelY*cTime;
					var displacementX=	initVelX*cTime;
					var currVelX = grav*cTime+initVelX;
					var currVelY = grav*cTime+initVelY;
					var nextY=parseInt(startY+displacementY);
					var nextX=parseInt(startX+displacementX);
					obj.css("top",nextY+'px');
					obj.css("left",nextX+'px');
					obj.currentTime=cTime+1;
					console.log(currVelY);
				if(ground>parseInt(obj.css("top")))	{
					setNextPos(obj,grav,startX,startY);
				}else{
					initVelY=-(currVelY-bounceLoss);
					obj.css("top",ground-1);
					drop(obj);
				}
			}, 10);
		}

		function drop(obj){
			obj.currentTime=0;
			var currX = parseInt(obj.css("left"));
			var currY = parseInt(obj.css("top"));
			setNextPos(obj,gravity,currX,currY);
		}
		/* 	jQuery(function($) {
		   var currentMousePos = { x: -1, y: -1 };
		    $(document).mousemove(function(event) {
		        currentMousePos.x = event.pageX;
		        currentMousePos.y = event.pageY;
		        var d = $('.circle');
		        //$('.circle').html(currentMousePos.x+"<br/>"+currentMousePos.y);
		       // $('.circle').html(parseInt(d.css("left")));
		        d.css({left: (currentMousePos.x-parseInt(parseInt(d.css("width"))/2))+'px'});
		        d.css({top: (currentMousePos.y-parseInt(parseInt(d.css("height"))/2))+'px'});

		    });
		});*/
		$(".circle").click(function(e){
		   	var parentOffset = $(this).parent().offset(); //if you really just want the current element's offset
		   	var relX = e.pageX - parentOffset.left;
		   	var relY = e.pageY - parentOffset.top;
		   	$('.circle').html(relX +"--"+relY);
		   	drop($(this));
		});
	});
	
	
</script>
</html>